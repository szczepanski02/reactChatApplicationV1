(this["webpackJsonpreact-chat-app"]=this["webpackJsonpreact-chat-app"]||[]).push([[0],{83:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n(112),r=n(70),i=n.n(r),s=(n(83),n(7)),j=n(113),o=n(72),u=n(114),b=n(41),d=n(105),l=n(116),h=n(115),x=Object(c.createContext)({authenticated:!1,setAuthenticated:function(){},nickname:"",setNickname:function(){}}),O=x.Provider,p=(x.Consumer,x),m=n(5),g=function(){var e=Object(c.useContext)(p),t=e.setAuthenticated,n=e.setNickname;return Object(m.jsx)("form",{onSubmit:function(e){e.preventDefault();var c=e.target.elements.nickname;t(!0),n(c.value)},children:Object(m.jsxs)(u.b,{spacing:3,children:[Object(m.jsxs)(b.a,{isRequired:!0,children:[Object(m.jsx)(d.a,{children:"Nickname"}),Object(m.jsx)(l.a,{type:"text",name:"nickname",placeholder:"nickname"})]}),Object(m.jsx)(h.a,{type:"submit",colorScheme:"blue",children:"Login"})]})})},f=n(106),v=n(107),y=n(108),S=function(){return Object(m.jsx)(f.a,{minHeight:"100vh",align:"center",justify:"center",bg:"gray.200",children:Object(m.jsxs)(u.b,{spacing:8,max:"auto",width:"full",maxW:"md",py:12,px:6,children:[Object(m.jsx)(v.a,{fontSize:"3xl",textAlign:"center",children:"Sing up"}),Object(m.jsx)(y.a,{rounded:"lg",bg:"white",boxShadow:"lg",p:{base:4,md:8},children:Object(m.jsx)(g,{})})]})})},w=n(62),k=n(109),C=n(110),A=function(e){var t=new Date(e);return"".concat(t.getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds())},D=function(e){var t=e.message;return Object(m.jsxs)(y.a,{rounded:"lg",bg:"white",boxShadow:"lg",p:6,children:[Object(m.jsxs)(k.a,{py:2,color:"grey",children:[t.user," ",A(t.datetime)]}),Object(m.jsx)(C.a,{}),Object(m.jsx)(k.a,{py:2,children:t.content})]})},H=n(63);H.a.initializeApp({apiKay:"AIzaSyD0Det7fNEuLCbtBEyLrH0ZEncC9n1K_Kw",authDomain:"chatproject-ad639.firebaseapp.com",projectId:"chatproject-ad639",storageBucket:"chatproject-ad639.appspot.com",messagingSenderId:"159209061165",appId:"1:159209061165:web:6fad83010a893085d9b1a4",databaseURL:"https://chatproject-ad639-default-rtdb.europe-west1.firebasedatabase.app"});var E=H.a.database(),I=function(){var e=Object(c.useContext)(p).nickname,t=Object(c.useState)(""),n=Object(s.a)(t,2),a=n[0],r=n[1];return Object(m.jsx)("form",{onSubmit:function(t){t.preventDefault();var n={user:e,content:a,datetime:Date.now()};a&&E.ref("/messages").push(n).then((function(){r(""),window.scrollTo(0,document.body.scrollHeight)})).catch((function(e){return console.error(e)}))},children:Object(m.jsxs)(u.a,{children:[Object(m.jsx)(l.a,{type:"text",name:"content",value:a,onChange:function(e){return r(e.target.value)}}),Object(m.jsx)(h.a,{type:"submit",colorScheme:"blue",children:"Send"})]})})},L=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){E.ref("/messages").on("value",(function(e){var t=e.val(),n=Object.entries(t||{}).map((function(e){var t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(w.a)(Object(w.a)({},c),{},{id:n})}));a(n)}))}),[]),Object(m.jsxs)(u.b,{spacing:8,py:6,children:[n.map((function(e){return Object(m.jsx)(D,{message:e},e.id)})),";",Object(m.jsx)(I,{})]})},N=n(111),z=function(){var e=Object(c.useContext)(p),t=e.setAuthenticated,n=e.nickname;return Object(m.jsx)(f.a,{minHeight:"100vh",align:"flex-start",justify:"center",bg:"gray.200",children:Object(m.jsx)(u.b,{spacing:8,width:"full",mx:"auto",py:6,px:6,children:Object(m.jsxs)(y.a,{rounded:"lg",bg:"white",boxShadow:"lg",p:4,children:[Object(m.jsxs)(k.a,{textAlign:"right",children:["Hello ",Object(m.jsx)("strong",{children:n}),"!"," | ",Object(m.jsx)(N.a,{onClick:function(){return t(!1)},children:"Log out"})]}),Object(m.jsx)(C.a,{}),Object(m.jsx)(L,{})]})})})},B=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),i=Object(s.a)(r,2),u=i[0],b=i[1];return Object(m.jsx)(j.a,{theme:o.theme,children:Object(m.jsx)(O,{value:{authenticated:n,setAuthenticated:a,nickname:u,setNickname:b},children:n?Object(m.jsx)(z,{}):Object(m.jsx)(S,{})})})};i.a.render(Object(m.jsxs)(c.StrictMode,{children:[Object(m.jsx)(a.a,{}),Object(m.jsx)(B,{})]}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.dd2fcfe6.chunk.js.map